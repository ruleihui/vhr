(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b3837ebe"],{"6f0b":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"SalSob"},[i("div",{staticClass:"SalSobHeader"},[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:t.addOpen}},[t._v("添加工资账套 ")]),i("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-refresh"},on:{click:t.init}})],1),i("div",{staticClass:"SalSobBody"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",border:""},on:{"selection-change":t.selected}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{label:"账套名称",prop:"name",width:"120"}}),i("el-table-column",{attrs:{label:"奖金",prop:"bonus",width:"70"}}),i("el-table-column",{attrs:{label:"基本工资",prop:"basicSalary",width:"70"}}),i("el-table-column",{attrs:{label:"午餐补助",prop:"lunchSalary",width:"70"}}),i("el-table-column",{attrs:{label:"交通补助",prop:"trafficSalary",width:"70"}}),i("el-table-column",{attrs:{label:"启用时间",formatter:this.utils.tableDateFormat,prop:"createDate",width:"100"}}),i("el-table-column",{attrs:{label:"养老金",align:"center"}},[i("el-table-column",{attrs:{label:"比率",prop:"pensionPer",width:"70"}}),i("el-table-column",{attrs:{label:"基数",prop:"pensionBase",width:"70"}})],1),i("el-table-column",{attrs:{label:"医疗金",align:"center"}},[i("el-table-column",{attrs:{label:"比率",prop:"medicalPer",width:"70"}}),i("el-table-column",{attrs:{label:"基数",prop:"medicalBase",width:"70"}})],1),i("el-table-column",{attrs:{label:"公积金",align:"center"}},[i("el-table-column",{attrs:{label:"比率",prop:"accumulationFundPer",width:"70"}}),i("el-table-column",{attrs:{label:"基数",prop:"accumulationFundBase",width:"70"}})],1),i("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){return t.updateOpen(e.row)}}},[t._v("修改")]),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){return t.deleteById(e.row)}}},[t._v("删除")])]}}])})],1),i("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"danger",disabled:t.disabled},on:{click:t.deleteMulti}},[t._v("批量删除")])],1),i("div",{staticClass:"SalSobHide"},[i("el-dialog",{attrs:{title:"添加工资账套",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"left"},[i("el-steps",{attrs:{direction:"vertical",active:t.stepsActive.active}},t._l(t.salaryItem,(function(e,a){return i("el-step",{attrs:{title:e},nativeOn:{click:function(e){return t.skip(a)}}})})),1),t._l(t.from,(function(e,a,s){return[i("div",{directives:[{name:"show",rawName:"v-show",value:t.stepsActive.active==s,expression:"stepsActive.active==index"}],staticClass:"inputAndError"},[i("el-input",{ref:"input"+s,refInFor:!0,attrs:{placeholder:"请输入"+t.salaryItem[s]+"...",size:"small"},on:{input:function(e){return t.inputCheck(e,a)}},model:{value:t.from[a],callback:function(e){t.$set(t.from,a,e)},expression:"from[key]"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.fromError[a],expression:"fromError[key]"}],staticClass:"error_"},[i("div",{class:"error_"+a},[t._v("1123")])])],1)]}))],2),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{style:{display:0==this.stepsActive.active?"none":""},attrs:{size:"mini"},on:{click:t.previousStep}},[t._v(" "+t._s(0!=t.stepsActive.active?"上一步":"")+" ")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.nextStep}},[t._v(" "+t._s(t.stepsActive.active==t.salaryItem.length-1?"完成":"下一步")+" ")])],1)])],1)])},s=[],l=(i("a15b"),i("d81d"),{name:"SalSob",data:function(){var t={name:"",basicSalary:"",trafficSalary:"",lunchSalary:"",bonus:"",pensionPer:"",pensionBase:"",medicalPer:"",medicalBase:"",accumulationFundPer:"",accumulationFundBase:""},e=this.utils.clone(t),i=this.utils.clone(t),a=this.utils.clone(t),s=this.utils.clone(t),l=this.utils.clone(t);return{tableData:[],dialogVisible:!1,stepsActive:{active:0},addActive:{active:0},updateActive:{active:0},salaryItem:["账套名称","基本工资","交通补助","午餐补助","奖金","养老金比率","养老金基数","医疗保险比率","医疗保险基数","公积金比率","公积金基数"],from:a,fromError:i,addForm:t,addFormError:e,updateForm:l,updateFormError:s,updateId:0,fromFlag:"",selectedAll:[],disabled:!0}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.$axios.execute("get","/salary/sob").then((function(e){e&&(t.tableData=e)}))},skip:function(t){this.stepsActive.active=t},addOpen:function(){this.from=this.addForm,this.fromError=this.addFormError,this.stepsActive=this.addActive,this.fromFlag="add",this.dialogVisible=!0},previousStep:function(){var t=this;0!=this.stepsActive.active&&(this.stepsActive.active--,setTimeout((function(){t.$refs["input"+t.stepsActive.active][0].focus()}),100))},nextStep:function(){var t=this;if(this.stepsActive.active==this.salaryItem.length-1){var e=this.from;if(this.utils.isNull(e))return void this.$message.error("请检查输入值是否有效/填写完整");var i=this.fromFlag;"add"==i?this.$axios.execute("post","/salary/sob",e).then((function(e){e&&(t.dialogVisible=!1,t.addActive.active=0,t.init())})):"update"==i&&(e.id=this.updateId,this.$axios.execute("put","/salary/sob",e).then((function(e){e&&(t.dialogVisible=!1,t.updateActive.active=0,t.init())}))),this.utils.toNull(e)}else{var a=++this.stepsActive.active;setTimeout((function(){t.$refs["input"+a][0].focus()}),100)}},inputCheck:function(t,e){if(t)if(this.stepsActive.active>0&&!this.utils.numberReg(t)){this.fromError[e]="true",document.querySelector(".error_"+e).innerText="请输入整形/浮点型--\x3e(1/1.0)";var i=this.$refs["input"+this.stepsActive.active][0];i.blur(),i.$emit("input","")}else this.fromError[e]=""},updateOpen:function(t){this.utils.copy(this.updateForm,t),this.from=this.updateForm,this.fromError=this.updateFormError,this.stepsActive=this.updateActive,this.fromFlag="update",this.updateId=t.id,this.dialogVisible=!0},selected:function(t){this.disabled&&(this.disabled=!1),0==t.length&&(this.disabled=!0),this.selectedAll=t},deleteById:function(t){var e=this,i=function(){return e.$axios.execute("delete","/salary/sob/"+t.id).then((function(t){t&&e.init()}))};this.utils.deleteConfirm(i)},deleteMulti:function(){var t=this,e=this.selectedAll.map((function(t){return t.id})).join("&ids="),i=function(){return t.$axios.execute("delete","/salary/sob?ids="+e).then((function(e){e&&(t.disabled=!0,t.init())}))};this.utils.deleteConfirm(i)}}}),r=l,n=(i("dd07"),i("2877")),o=Object(n["a"])(r,a,s,!1,null,null,null);e["default"]=o.exports},"8c73":function(t,e,i){},a15b:function(t,e,i){"use strict";var a=i("23e7"),s=i("44ad"),l=i("fc6a"),r=i("a640"),n=[].join,o=s!=Object,c=r("join",",");a({target:"Array",proto:!0,forced:o||!c},{join:function(t){return n.call(l(this),void 0===t?",":t)}})},d81d:function(t,e,i){"use strict";var a=i("23e7"),s=i("b727").map,l=i("1dde"),r=i("ae40"),n=l("map"),o=r("map");a({target:"Array",proto:!0,forced:!n||!o},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},dd07:function(t,e,i){"use strict";i("8c73")}}]);
//# sourceMappingURL=chunk-b3837ebe.4449e5ff.js.map