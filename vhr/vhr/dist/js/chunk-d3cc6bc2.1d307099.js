(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3cc6bc2"],{"40ba":function(e,t,o){"use strict";o("8e35")},"8e35":function(e,t,o){},db99:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"EmpBasic"},[o("div",{staticClass:"EmpBasicHeader"},[o("div",{staticClass:"left"},[o("el-form",{ref:"form",attrs:{size:"small",model:e.keywords}},[o("el-form-item",{attrs:{id:"firstItem",prop:"name",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[o("el-input",{attrs:{disabled:!this.transition,size:"small","prefix-icon":"el-icon-search",placeholder:"通过员工名搜索员工"},model:{value:e.keywords.name,callback:function(t){e.$set(e.keywords,"name",t)},expression:"keywords.name"}})],1),o("el-form-item",[o("el-button",{attrs:{disabled:!this.transition,size:"small",icon:"el-icon-search",type:"primary"},on:{click:e.search}},[e._v(" 搜索 ")])],1),o("el-form-item",[o("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.highSearchOpen}},[o("i",{class:e.transition?"fa fa-angle-double-down":"fa fa-angle-double-up",attrs:{"aria-hidden":"true"}}),e._v(" 高级搜索 ")])],1),o("el-form-item",[o("el-button",{attrs:{icon:"el-icon-refresh",size:"small",type:"primary"},on:{click:e.refresh}},[e._v(" 重置 ")])],1)],1)],1),o("div",{staticClass:"right"},[o("el-upload",{attrs:{action:"/employee/basic/import",multiple:"","show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.uploadSuccess,"on-error":e.uploadError,disabled:e.uploading}},[o("el-button",{attrs:{disabled:e.uploading,icon:e.uploadButtonIcon,size:"small",type:"success"}},[e._v(" "+e._s(e.uploadButtonMsg)+" ")])],1),o("el-button",{attrs:{icon:"el-icon-download",size:"small",type:"success"},on:{click:e.exportData}},[e._v(" 导出数据 ")]),o("el-button",{attrs:{size:"small",icon:"el-icon-plus",type:"primary"},on:{click:e.addOpen}},[e._v("添加员工")])],1)]),o("div",{staticClass:"EmpBasicHigh"},[o("transition-group",{attrs:{name:"EmpBasicHighSearch"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:!e.transition,expression:"!transition"}],key:"EmpBasicHighOut",staticClass:"EmpBasicHighOut"},[o("div",{key:"transitionBody",staticClass:"transitionBody"},[o("el-form",{attrs:{model:e.searchForm}},[o("el-form-item",{attrs:{label:"政治面貌:"}},[o("el-select",{attrs:{size:e.fromSize,placeholder:"政治面貌"},model:{value:e.searchForm.politicId,callback:function(t){e.$set(e.searchForm,"politicId",t)},expression:"searchForm.politicId"}},e._l(e.politics,(function(e,t){return o("el-option",{attrs:{label:e.name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"民族:"}},[o("el-select",{attrs:{size:e.fromSize,placeholder:"请选择民族"},model:{value:e.searchForm.nationId,callback:function(t){e.$set(e.searchForm,"nationId",t)},expression:"searchForm.nationId"}},e._l(e.nations,(function(e,t){return o("el-option",{attrs:{label:e.name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"职位:"}},[o("el-select",{attrs:{size:e.fromSize,placeholder:"请选择职位"},model:{value:e.searchForm.posId,callback:function(t){e.$set(e.searchForm,"posId",t)},expression:"searchForm.posId"}},e._l(e.positions,(function(e,t){return o("el-option",{attrs:{label:e.name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"职称:"}},[o("el-select",{attrs:{size:e.fromSize,placeholder:"请选择职称"},model:{value:e.searchForm.jobLevelId,callback:function(t){e.$set(e.searchForm,"jobLevelId",t)},expression:"searchForm.jobLevelId"}},e._l(e.jobLevels,(function(e,t){return o("el-option",{attrs:{label:e.name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"聘用形式"}},[o("el-radio-group",{model:{value:e.searchForm.engageForm,callback:function(t){e.$set(e.searchForm,"engageForm",t)},expression:"searchForm.engageForm"}},[o("el-radio",{attrs:{label:"劳动合同"}},[e._v("劳动合同")]),o("el-radio",{attrs:{label:"劳务合同"}},[e._v("劳务合同")])],1)],1),o("el-form-item",{attrs:{label:"所属部门"}},[o("el-select",{attrs:{size:e.fromSize,placeholder:"请选择部门"},model:{value:e.searchForm.departmentId,callback:function(t){e.$set(e.searchForm,"departmentId",t)},expression:"searchForm.departmentId"}},e._l(e.departments,(function(e,t){return o("el-option",{attrs:{label:e.name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"入职日期"}},[o("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1),o("el-form-item",[o("el-button",{attrs:{size:e.fromSize,type:"primary",icon:"el-icon-search"},on:{click:e.highSearchSubmit}},[e._v("搜索 ")]),o("el-button",{attrs:{size:e.fromSize},on:{click:function(t){e.searchForm={}}}},[e._v("取消")])],1)],1)],1)])])],1),o("div",{staticClass:"EmpBasicBody"},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",size:"mini"}},[o("el-table-column",{attrs:{fixed:"left",width:"40",type:"selection"}}),o("el-table-column",{attrs:{fixed:"left",prop:"name",label:"姓名",width:"100"}}),o("el-table-column",{attrs:{prop:"workId",label:"工号",width:"100"}}),o("el-table-column",{attrs:{prop:"gender",label:"性别",width:"70"}}),o("el-table-column",{attrs:{prop:"birthday",label:"出生日期",formatter:this.utils.tableDateFormat,width:"150"}}),o("el-table-column",{attrs:{prop:"idCard",label:"身份证号",width:"200"}}),o("el-table-column",{attrs:{prop:"wedlock",label:"婚姻状况",width:"100"}}),o("el-table-column",{attrs:{prop:"nation.name",label:"民族",width:"100"}}),o("el-table-column",{attrs:{prop:"nativePlace",label:"籍贯",width:"100"}}),o("el-table-column",{attrs:{prop:"politicsStatus.name",label:"政治面貌",width:"100"}}),o("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"100"}}),o("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"100"}}),o("el-table-column",{attrs:{prop:"address",label:"地址",width:"300"}}),o("el-table-column",{attrs:{prop:"department.name",label:"部门",width:"100"}}),o("el-table-column",{attrs:{prop:"jobLevel.name",label:"职称名称",width:"100"}}),o("el-table-column",{attrs:{prop:"jobLevel.titleLevel",label:"职称等级",width:"100"}}),o("el-table-column",{attrs:{prop:"position.name",label:"职位名称",width:"100"}}),o("el-table-column",{attrs:{prop:"engageForm",label:"聘用形式",width:"100"}}),o("el-table-column",{attrs:{prop:"tiptopDegree",label:"最高学历",width:"100"}}),o("el-table-column",{attrs:{prop:"specialty",label:"所属专业",width:"100"}}),o("el-table-column",{attrs:{prop:"school",label:"毕业院校",width:"100"}}),o("el-table-column",{attrs:{prop:"beginDate",label:"入职日期",formatter:this.utils.tableDateFormat,width:"150"}}),o("el-table-column",{attrs:{prop:"workState",label:"在职状态",width:"100"}}),o("el-table-column",{attrs:{prop:"contractTerm",label:"合同期限(年)",width:"120"}}),o("el-table-column",{attrs:{prop:"conversionTime",label:"转正日期",formatter:this.utils.tableDateFormat,width:"150"}}),o("el-table-column",{attrs:{prop:"notworkDate",label:"离职日期",formatter:this.utils.tableDateFormat,width:"150"}}),o("el-table-column",{attrs:{prop:"beginContract",label:"合同起始日期",formatter:this.utils.tableDateFormat,width:"150"}}),o("el-table-column",{attrs:{prop:"endContract",label:"合同终止日期",formatter:this.utils.tableDateFormat,width:"150"}}),o("el-table-column",{attrs:{prop:"workAge",label:"工龄",width:"100"}}),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{on:{click:function(o){return e.updateOpen(t.row)}}},[e._v("编辑")]),o("el-button",{attrs:{type:"danger"},on:{click:function(o){return e.deleteById(t.row)}}},[e._v("删除")])]}}])})],1)],1),o("div",{staticClass:"EmpBasicBottom"},[o("el-button",{attrs:{disabled:"",type:"danger"}},[e._v("批量删除")]),o("el-pagination",{attrs:{background:"","page-size":e.pageSize,layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentPage,"size-change":e.sizeChange,"prev-click":e.prevClick,"next-click":e.nextClick}})],1),o("div",{staticClass:"EmpBasicHidden"},[o("el-dialog",{attrs:{width:"90%",title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"addForm",attrs:{model:e.form,rules:e.formRules}},[o("el-form-item",{attrs:{prop:"name",label:"姓名"}},[o("el-input",{attrs:{placeholder:"请输入员工姓名","prefix-icon":"el-icon-edit",size:e.fromSize,autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),o("el-form-item",{attrs:{prop:"gender",label:"性别"}},[o("el-radio-group",{model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[o("el-radio",{attrs:{label:"男"}},[e._v("男")]),o("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),o("el-form-item",{attrs:{prop:"birthday",label:"出生日期"}},[o("el-date-picker",{attrs:{size:e.fromSize,align:"right",type:"date",placeholder:"出生日期","picker-options":e.pickerOptions},model:{value:e.form.birthday,callback:function(t){e.$set(e.form,"birthday",t)},expression:"form.birthday"}})],1),o("el-form-item",{attrs:{prop:"politicId",label:"政治面貌"}},[o("el-select",{attrs:{size:e.fromSize,placeholder:"政治面貌"},model:{value:e.form.politicId,callback:function(t){e.$set(e.form,"politicId",t)},expression:"form.politicId"}},e._l(e.politics,(function(e){return o("el-option",{attrs:{label:e.name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{prop:"nationId",label:"民族"}},[o("el-select",{attrs:{size:e.fromSize,placeholder:"请选择民族"},model:{value:e.form.nationId,callback:function(t){e.$set(e.form,"nationId",t)},expression:"form.nationId"}},e._l(e.nations,(function(e){return o("el-option",{attrs:{label:e.name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{prop:"nativePlace",label:"籍贯"}},[o("el-input",{attrs:{size:e.fromSize,placeholder:"员工籍贯(省)",autocomplete:"off"},model:{value:e.form.nativePlace,callback:function(t){e.$set(e.form,"nativePlace",t)},expression:"form.nativePlace"}})],1),o("el-form-item",{attrs:{prop:"email",label:"电子邮箱"}},[o("el-input",{attrs:{"prefix-icon":"el-icon-message",size:e.fromSize,placeholder:"电子邮箱",autocomplete:"off"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),o("el-form-item",{attrs:{prop:"address",label:"联系地址"}},[o("el-input",{attrs:{size:e.fromSize,placeholder:"联系地址","prefix-icon":"el-icon-edit",autocomplete:"off"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),o("el-form-item",{attrs:{prop:"posId",label:"职位"}},[o("el-select",{attrs:{size:e.fromSize,placeholder:"请选择职位"},model:{value:e.form.posId,callback:function(t){e.$set(e.form,"posId",t)},expression:"form.posId"}},e._l(e.positions,(function(e){return o("el-option",{attrs:{label:e.name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{prop:"jobLevelId",label:"职称"}},[o("el-select",{attrs:{size:e.fromSize,placeholder:"请选择职称"},model:{value:e.form.jobLevelId,callback:function(t){e.$set(e.form,"jobLevelId",t)},expression:"form.jobLevelId"}},e._l(e.jobLevels,(function(e){return o("el-option",{attrs:{label:e.name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{prop:"departmentId",label:"所属部门"}},[o("el-select",{attrs:{size:e.fromSize,placeholder:"请选择部门"},model:{value:e.form.departmentId,callback:function(t){e.$set(e.form,"departmentId",t)},expression:"form.departmentId"}},e._l(e.departments,(function(e){return o("el-option",{attrs:{label:e.name,value:e.id}})})),1)],1),o("el-form-item",{attrs:{prop:"phone",label:"电话号码"}},[o("el-input",{attrs:{"prefix-icon":"el-icon-phone",size:e.fromSize,placeholder:"电话号码",autocomplete:"off"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),o("el-form-item",{attrs:{prop:"workId",label:"工号"}},[o("el-input",{attrs:{disabled:"",size:e.fromSize,autocomplete:"off"},model:{value:e.form.workId,callback:function(t){e.$set(e.form,"workId",t)},expression:"form.workId"}})],1),o("el-form-item",{attrs:{prop:"tiptopDegree",label:"学历"}},[o("el-select",{attrs:{size:e.fromSize,placeholder:"最高学历"},model:{value:e.form.tiptopDegree,callback:function(t){e.$set(e.form,"tiptopDegree",t)},expression:"form.tiptopDegree"}},e._l(e.degrees,(function(e,t){return o("el-option",{attrs:{label:e,value:e}})})),1)],1),o("el-form-item",{attrs:{prop:"school",label:"毕业院校"}},[o("el-input",{attrs:{"prefix-icon":"el-icon-edit",placeholder:"毕业院校名称",size:e.fromSize,autocomplete:"off"},model:{value:e.form.school,callback:function(t){e.$set(e.form,"school",t)},expression:"form.school"}})],1),o("el-form-item",{attrs:{prop:"specialty",label:"专业名称"}},[o("el-input",{attrs:{"prefix-icon":"el-icon-edit",placeholder:"专业名称",size:e.fromSize,autocomplete:"off"},model:{value:e.form.specialty,callback:function(t){e.$set(e.form,"specialty",t)},expression:"form.specialty"}})],1),o("el-form-item",{attrs:{prop:"beginDate",label:"入职日期"}},[o("el-date-picker",{attrs:{size:e.fromSize,type:"date",placeholder:"入职日期"},model:{value:e.form.beginDate,callback:function(t){e.$set(e.form,"beginDate",t)},expression:"form.beginDate"}})],1),o("el-form-item",{attrs:{prop:"conversionTime",label:"转正日期"}},[o("el-date-picker",{attrs:{size:e.fromSize,type:"date",placeholder:"转正日期"},model:{value:e.form.conversionTime,callback:function(t){e.$set(e.form,"conversionTime",t)},expression:"form.conversionTime"}})],1),o("el-form-item",{attrs:{prop:"beginContract",label:"合同起始日期"}},[o("el-date-picker",{attrs:{size:e.fromSize,type:"date",placeholder:"合同起始日期"},model:{value:e.form.beginContract,callback:function(t){e.$set(e.form,"beginContract",t)},expression:"form.beginContract"}})],1),o("el-form-item",{attrs:{prop:"endContract",label:"合同终止日期"}},[o("el-date-picker",{attrs:{size:e.fromSize,type:"date",placeholder:"合同终止日期"},model:{value:e.form.endContract,callback:function(t){e.$set(e.form,"endContract",t)},expression:"form.endContract"}})],1),o("el-form-item",{attrs:{prop:"idCard",label:"身份证号码"}},[o("el-input",{attrs:{placeholder:"请输入身份证号",size:e.fromSize,autocomplete:"off"},model:{value:e.form.idCard,callback:function(t){e.$set(e.form,"idCard",t)},expression:"form.idCard"}})],1),o("el-form-item",{attrs:{prop:"engageForm",label:"聘用形式"}},[o("el-radio-group",{model:{value:e.form.engageForm,callback:function(t){e.$set(e.form,"engageForm",t)},expression:"form.engageForm"}},[o("el-radio",{attrs:{label:"劳动合同"}},[e._v("劳动合同")]),o("el-radio",{attrs:{label:"劳务合同"}},[e._v("劳务合同")])],1)],1),o("el-form-item",{attrs:{prop:"wedlock",label:"婚姻状况"}},[o("el-radio-group",{model:{value:e.form.wedlock,callback:function(t){e.$set(e.form,"wedlock",t)},expression:"form.wedlock"}},[o("el-radio",{attrs:{label:"未婚"}},[e._v("未婚")]),o("el-radio",{attrs:{label:"已婚"}},[e._v("已婚")]),o("el-radio",{attrs:{label:"离异"}},[e._v("离异")])],1)],1),o("el-form-item")],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.dialogMethod}},[e._v("确 定")])],1)],1)],1)])},a=[],r=(o("c975"),o("b0c0"),{name:"EmpBasic",data:function(){var e=this,t=function(e,t,o){-1==t.indexOf("@")||-1==t.indexOf(".")?o(new Error("无效的邮箱地址")):o()},o=function(t,o,i){e.form.beginDate||i(new Error("请先选择入职时间"));var a=new Date(o).getTime(),r=new Date(e.form.beginDate).getTime();r>a?i(new Error("转正时间需大于入职时间")):i()},i=function(t,o,i){e.form.beginContract||i(new Error("请先选择起始时间"));var a=new Date(o).getTime(),r=new Date(e.form.beginContract).getTime();r>a?i(new Error("起始时间需大于终止时间")):i()},a=function(){"add"==e.dialogFlag?e.addSubmit():"update"==e.dialogFlag&&e.updateSubmit()};return{dialogTitle:"添加员工",dialogFlag:"",dialogMethod:a,tableData:[],transition:!0,searchForm:{},uploadButtonMsg:"导入数据",uploadButtonIcon:"el-icon-upload2",uploading:!1,uri:"",currentIndex:1,total:0,pageSize:10,prevAndNext:!1,loading:!1,keywords:{name:""},searchLock:!1,dialogFormVisible:!1,degrees:["小学","初中","高中","大专","本科","硕士","博士"],form:{name:"",gender:"",birthday:"",idCard:"",wedlock:"",nationId:"",nativePlace:"",politicId:"",email:"",phone:"",address:"",departmentId:"",jobLevelId:"",posId:"",engageForm:"",tiptopDegree:"",specialty:"",school:"",beginDate:"",workState:"在职",workId:"",contractTerm:"",conversionTime:"",notworkDate:"",beginContract:"",endContract:"",workAge:""},formRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],gender:{required:!0,message:"请选择性别",trigger:"blur"},birthday:{required:!0,message:"不能为空",trigger:"blur"},idCard:[{required:!0,message:"不能为空",trigger:"blur"},{min:18,max:18,message:"无效的身份证号",trigger:"blur"}],wedlock:{required:!0,message:"不能为空",trigger:"blur"},nationId:{required:!0,message:"不能为空",trigger:"blur"},nativePlace:{required:!0,message:"不能为空",trigger:"blur"},politicId:{required:!0,message:"不能为空",trigger:"blur"},email:[{required:!0,message:"不能为空",trigger:"blur"},{validator:t,trigger:"blur"}],phone:[{required:!0,message:"不能为空",trigger:"blur"},{min:11,max:11,message:"无效的手机号",trigger:"blur"}],address:{required:!0,message:"不能为空",trigger:"blur"},departmentId:{required:!0,message:"不能为空",trigger:"blur"},jobLevelId:{required:!0,message:"不能为空",trigger:"blur"},posId:{required:!0,message:"不能为空",trigger:"blur"},engageForm:{required:!0,message:"不能为空",trigger:"blur"},tiptopDegree:{required:!0,message:"不能为空",trigger:"blur"},specialty:{required:!0,message:"不能为空",trigger:"blur"},school:{required:!0,message:"不能为空",trigger:"blur"},beginDate:{required:!0,message:"不能为空",trigger:"blur"},workState:{required:!0,message:"不能为空",trigger:"blur"},workId:{required:!0,message:"不能为空",trigger:"blur"},contractTerm:{required:!0,message:"不能为空",trigger:"blur"},conversionTime:[{required:!0,message:"不能为空",trigger:"blur"},{validator:o,trigger:"blur"}],beginContract:{required:!0,message:"不能为空",trigger:"blur"},endContract:[{required:!0,message:"不能为空",trigger:"blur"},{validator:i,trigger:"blur"}]},nations:[],politics:[],departments:[],jobLevels:[],positions:[],fromSize:"small",pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}}}},created:function(){this.init()},methods:{beforeUpload:function(e){this.uploading=!0,this.uploadButtonMsg="正在上传",this.uploadButtonIcon="el-icon-loading"},uploadSuccess:function(e,t,o){this.uploadButtonMsg="导入数据",this.uploadButtonIcon="el-icon-upload2",500==e.status?this.$message.error(e.msg):this.$message.success("上传成功"),this.uploading=!1},uploadError:function(e,t,o){this.uploadButtonMsg="导入数据",this.uploadButtonIcon="el-icon-upload2",this.$message.error("上传失败"),this.uploading=!1},exportData:function(){window.open("/employee/basic/export","_parent")},highSearchOpen:function(){this.transition=!this.transition,this.keywords.name="",this.uri=""},highSearchSubmit:function(){var e=this;this.searchForm.time&&!this.utils.isNull(this.searchForm.time)&&(this.searchForm.beginDate=this.searchForm.time[0].getTime(),this.searchForm.beginDateEnd=this.searchForm.time[1].getTime(),delete this.searchForm.time),this.uri=this.utils.getUri(this.searchForm),this.loading=!0,this.$axios.execute("get","/employee/basic?"+this.uri).then((function(t){t&&(e.tableData=t.data,e.total=t.total,e.loading=!1)}))},deleteById:function(e){var t=this,o=function(){return t.$axios.execute("delete","/employee/basic/"+e.id).then((function(e){e&&t.currentPage(t.currentIndex)}))};this.utils.deleteConfirm(o)},addOpen:function(){var e=this;this.form={id:1,name:"test",gender:"男",birthday:"1990-01-01T00:00:00.000+08:00",idCard:"610122199001011256",wedlock:"已婚",nation:{id:null,name:"汉族"},nativePlace:"陕西",politicsStatus:{id:null,name:"普通公民"},email:"",phone:"18565558897",address:"深圳市南山区",department:{id:null,name:"总办",parentId:null,depPath:null,enabled:null,children:[],affectRow:null,parent:null},jobLevel:null,position:{id:null,name:"技术总监",createDate:null,enabled:null},engageForm:"劳务合同",tiptopDegree:"本科",specialty:"信息管理与信息系统",school:"深圳大学",beginDate:"2018-01-01T00:00:00.000+08:00",workState:"在职",workId:"00000001",contractTerm:2,conversionTime:"2018-04-01T00:00:00.000+08:00",notWorkDate:null,beginContract:"2018-01-01T00:00:00.000+08:00",endContract:"2020-01-01T00:00:00.000+08:00",workAge:null,beginDateEnd:null,nationId:1,politicId:13,departmentId:5,jobLevelId:9,posId:29,salary:null},this.dialogTitle="添加员工",this.dialogFlag="add",this.dialogFormVisible=!0,this.$axios.execute("get","/employee/basic/workId").then((function(t){t&&(e.form.workId=t)}))},addSubmit:function(){var e=this,t=new Date(this.form.beginContract).getFullYear(),o=(new Date(this.form.beginContract).getMonth(),new Date(this.form.beginContract).getDay()),i=new Date(this.form.endContract).getFullYear(),a=new Date(this.form.endContract).getMonth(),r=new Date(this.form.endContract).getDay(),l=i-t,s=(r-a)/12,n=(r-o)/365;this.form.contractTerm=""+(l+s+n),this.form.contractTerm=this.form.contractTerm.substr(0,this.form.contractTerm.indexOf(".")+3),this.form.workState="在职",this.$refs.addForm.validate((function(t,o){t&&e.$axios.execute("post","/employee/basic",e.form).then((function(t){t&&(e.currentPage(e.currentIndex),e.dialogFormVisible=!1,e.utils.toNull(e.form))}))}))},updateOpen:function(e){this.dialogTitle="修改员工",this.dialogFlag="update",this.dialogFormVisible=!0,this.form=this.utils.clone(e)},updateSubmit:function(){var e=this;this.$axios.execute("put","/employee/basic",this.form).then((function(t){t&&(e.currentPage(e.currentIndex),e.dialogFormVisible=!1,e.utils.toNull(e.form))}))},refresh:function(){this.initEmp(),this.utils.toNull(this.keywords)},search:function(){var e=this;!this.searchLock&&this.keywords.name?(this.loading=!0,this.$axios.execute("get","/employee/basic?name="+this.keywords.name).then((function(t){e.tableData=t.data,e.total=t.total,e.loading=!1}))):this.$refs.form.validate((function(){}))},init:function(){this.initEmp(),this.initNations(),this.initPolitics(),this.initDepartments(),this.initJobLevels(),this.initPositions()},initNations:function(){var e=this;window.sessionStorage.getItem("nations")?this.nations=JSON.parse(window.sessionStorage.getItem("nations")):this.$axios.execute("get","/employee/basic/nations").then((function(t){t&&(e.nations=t,window.sessionStorage.setItem("nations",JSON.stringify(t)))}))},initPolitics:function(){var e=this;window.sessionStorage.getItem("politics")?this.politics=JSON.parse(window.sessionStorage.getItem("politics")):this.$axios.execute("get","/employee/basic/politics").then((function(t){t&&(e.politics=t,window.sessionStorage.setItem("politics",JSON.stringify(t)))}))},initDepartments:function(){var e=this;window.sessionStorage.getItem("departments")?this.departments=JSON.parse(window.sessionStorage.getItem("departments")):this.$axios.execute("get","/employee/basic/departments").then((function(t){t&&(e.departments=t,window.sessionStorage.setItem("departments",JSON.stringify(t)))}))},initJobLevels:function(){var e=this;window.sessionStorage.getItem("jobLevels")?this.jobLevels=JSON.parse(window.sessionStorage.getItem("jobLevels")):this.$axios.execute("get","/employee/basic/jobLevels").then((function(t){t&&(e.jobLevels=t,window.sessionStorage.setItem("jobLevels",JSON.stringify(t)))}))},initPositions:function(){var e=this;window.sessionStorage.getItem("positions")?this.positions=JSON.parse(window.sessionStorage.getItem("positions")):this.$axios.execute("get","/employee/basic/positions").then((function(t){t&&(e.positions=t,window.sessionStorage.setItem("positions",JSON.stringify(t)))}))},initEmp:function(){var e=this;this.loading=!0,this.$axios.execute("get","/employee/basic").then((function(t){t&&(e.tableData=t.data,e.total=t.total,e.loading=!1)}))},currentPage:function(e){var t=this;if(this.currentIndex=e,!this.prevAndNext){this.loading=!0;var o="/employee/basic?page="+e+"&size="+this.pageSize+"&"+this.uri;this.keywords.name&&(o+="&name="+this.keywords.name),this.$axios.execute("get",o).then((function(e){e&&(t.tableData=e.data,t.total=e.total,t.loading=!1)}))}},sizeChange:function(e){var t=this;if(!this.prevAndNext){this.loading=!0;var o="/employee/basic?page=&size="+e+"&"+this.uri;this.keywords.name&&(o+="&name="+this.keywords.name),this.$axios.execute("get",o).then((function(e){e&&(t.tableData=e.data,t.total=e.total,t.loading=!1)}))}},prevClick:function(e){var t=this;this.currentIndex=e,this.prevAndNext=!0,this.loading=!0;var o="/employee/basic?page="+e+"&size="+this.pageSize+"&"+this.uri;this.keywords.name&&(o+="&name="+this.keywords.name),this.$axios.execute("get",o).then((function(e){e&&(t.tableData=e.data,t.total=e.total,t.prevAndNext=!1,t.loading=!1)}))},nextClick:function(e){var t=this;this.currentIndex=e,this.prevAndNext=!0,this.loading=!0;var o="/employee/basic?page="+e+"&size="+this.pageSize+"&"+this.uri;this.keywords.name&&(o+="&name="+this.keywords.name),this.$axios.execute("get",o).then((function(e){e&&(t.tableData=e.data,t.total=e.total,t.prevAndNext=!1,t.loading=!1)}))},handleClick:function(e){console.log(e)}}}),l=r,s=(o("40ba"),o("2877")),n=Object(s["a"])(l,i,a,!1,null,null,null);t["default"]=n.exports}}]);
//# sourceMappingURL=chunk-d3cc6bc2.1d307099.js.map