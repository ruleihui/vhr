(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce5f4b90"],{"0291":function(e,t,i){},"0534":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"SysBasic"},[i("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.items,(function(t){return[i("el-tab-pane",{attrs:{label:t.label,name:t.label}},[t.label==e.activeName?i(t.is,{tag:"div"}):e._e()],1)]}))],2)],1)},l=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"department"},[i("div",{staticClass:"departmentTree"},[i("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"根据部门名称进行搜索"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),i("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{"expand-on-click-node":!1,data:e.treeData,props:e.defaultProps,"filter-node-method":e.filterNode},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,l=t.data;return i("div",{staticClass:"custom-tree-node"},[i("span",[e._v(e._s(a.label))]),i("span",[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(){return e.append(l)}}},[e._v(" 添加部门 ")]),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(){return e.remove(a,l)}}},[e._v(" 删除部门 ")])],1)])}}])}),i("div",{staticClass:"departmentHidden"},[i("el-dialog",{attrs:{title:"添加部门",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("div",[i("el-tag",[e._v("上级部门")]),e._v(" "+e._s(e.currentNodeData.name)+" ")],1),i("el-form",{ref:"form",attrs:{model:e.model}},[i("el-form-item",[i("el-tag",[e._v("部门名称")])],1),i("el-form-item",{attrs:{prop:"addName",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[i("el-input",{attrs:{placeholder:"请输入部门名称",size:"mini",autocomplete:"off"},model:{value:e.model.addName,callback:function(t){e.$set(e.model,"addName",t)},expression:"model.addName"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.appendSubmit}},[e._v("确 定")])],1)],1)],1)],1)])},s=[],o=(i("4de4"),i("c975"),i("b0c0"),{name:"DepManage",mounted:function(){this.init()},data:function(){return{filterText:"",treeData:[],defaultProps:{children:"children",label:"name"},dialogFormVisible:!1,model:{addName:""},currentNodeData:{}}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},methods:{init:function(){var e=this;this.$axios.execute("get","/system/basic/department").then((function(t){t&&(e.treeData=t)}))},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},append:function(e){this.currentNodeData=e,this.dialogFormVisible=!0},appendSubmit:function(){var e=this;this.utils.isNull(this.model.addName)?this.$refs.form.validate((function(){})):this.$axios.executeArgs("post","/system/basic/department",{name:this.model.addName,parentId:this.currentNodeData.id}).then((function(t){if(t){e.dialogFormVisible=!1;var i=e.currentNodeData.children;i instanceof Array?i.push(t):i=[t]}}))},remove:function(e){var t=this;if(this.utils.isNull(e.data.children)){var i=function(){return t.$axios.execute("delete","/system/basic/department/"+e.data.id).then((function(t){t&&e.remove(e)}))};this.utils.deleteConfirm(i)}else this.$message.error("删除失败,存在子部门")}}}),r=o,c=(i("7972"),i("2877")),u=Object(c["a"])(r,n,s,!1,null,"95d319e0",null),d=u.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"position"},[i("el-input",{staticStyle:{width:"30%","margin-right":"10px"},attrs:{size:"small",placeholder:"添加职位","prefix-icon":"el-icon-plus"},model:{value:e.position.name,callback:function(t){e.$set(e.position,"name",t)},expression:"position.name"}}),i("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"small"},on:{click:e.add}},[e._v("添加")]),i("br"),i("el-table",{attrs:{data:e.positions,stripe:"",border:!0,size:"small"},on:{"selection-change":e.selected}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),i("el-table-column",{attrs:{prop:"name",label:"职位名称",width:"180"}}),i("el-table-column",{attrs:{prop:"createDate",label:"创建时间",formatter:this.utils.tableDateFormat,width:"180"}}),i("el-table-column",{attrs:{prop:"enabled",label:"是否启用",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?i("el-tag",{attrs:{type:"success"}},[e._v("已启用")]):i("el-tag",{attrs:{type:"danger"}},[e._v("未启用")])]}}])}),i("el-table-column",{attrs:{label:"操作","class-name":"last-column"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.update(t.$index,t.row)}}},[e._v("编辑 ")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.deleteRow(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),i("el-button",{ref:"delMulti",staticStyle:{"margin-top":"10px"},attrs:{type:"danger",disabled:e.disabled},on:{click:e.deleteMulti}},[e._v("批量删除 ")])],1)},p=[],f=(i("a15b"),i("d81d"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{ref:"form",attrs:{"status-icon":"",model:e.row,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"职位名称",prop:"name",rules:{required:!0,message:"请输入修改值",trigger:"blur"}}},[i("el-input",{attrs:{size:"small"},model:{value:e.row.name,callback:function(t){e.$set(e.row,"name",t)},expression:"row.name"}})],1),i("el-form-item",{attrs:{label:"是否启用"}},[i("el-radio-group",{model:{value:e.row.enabled,callback:function(t){e.$set(e.row,"enabled",t)},expression:"row.enabled"}},[i("el-radio",{attrs:{label:!0}},[e._v("启用")]),i("el-radio",{attrs:{label:!1}},[e._v("禁用")])],1)],1)],1)}),b=[],h=(i("a9e3"),{name:"PositionUpdate",props:{index:Number,row:Object},data:function(){return{form:{id:"",name:"",createDate:"",enabled:""}}}}),v=h,g=(i("56a8"),Object(c["a"])(v,f,b,!1,null,"fd1ad4e6",null)),x=g.exports,y={name:"PositionManage",components:{PositionUpdate:x},mounted:function(){this.init()},data:function(){return{position:{name:""},temp:"",positions:[],updateFrom:{},updateFromTemp:{},selectedAll:[],disabled:!0}},methods:{selected:function(e){this.disabled&&(this.disabled=!1),0==e.length&&(this.disabled=!0),this.selectedAll=e},deleteMulti:function(){var e=this,t=this.selectedAll.map((function(e){return e.id})).join("&ids=");this.$axios.execute("delete","/sys/basic/position?ids="+t).then((function(t){t&&(e.disabled=!0,e.init())}))},init:function(){var e=this;this.$axios.execute("get","/sys/basic/position").then((function(t){t&&(e.positions=t)}))},add:function(){var e=this;!this.position.name||this.temp&&this.temp==this.position.name?this.$message.error("请设置/修改提交值"):this.$axios.executeArgs("post","/sys/basic/position",this.position).then((function(t){t?(e.init(),e.temp=e.position.name):e.temp=e.position.name}))},updateSubmit:function(e,t,i){var a=this;(this.updateFrom.name||"cancel"==e)&&("confirm"===e?(t.confirmButtonLoading=!0,t.confirmButtonText="执行中...",this.updateFrom.name!=this.updateFromTemp.name||this.updateFrom.enabled!=this.updateFromTemp.enabled?this.$axios.executeArgs("put","/sys/basic/position",this.updateFrom).then((function(e){e&&(i(),setTimeout((function(){t.confirmButtonLoading=!1,a.init()}),300))})).catch((function(e){i()})):(this.$message.error("请先修改"),t.confirmButtonLoading=!1,t.confirmButtonText="确定")):i())},update:function(e,t){var i=this,a=this.$createElement;this.updateFrom=this.utils.clone(t),console.log(e,this.updateFrom),this.updateFromTemp.name=this.updateFrom.name,this.updateFromTemp.enabled=this.updateFrom.enabled,this.$msgbox({title:"修改名称",message:this.$createElement({render:function(t,l){return a("position-update",{attrs:{index:e,row:i.updateFrom}})}}),center:!0,showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:this.updateSubmit}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},deleteRow:function(e,t){var i=this,a=function(){return i.$axios.execute("delete","/sys/basic/position/"+t.id).then((function(e){e&&i.init()}))};this.utils.deleteConfirm(a)}}},_=y,k=(i("b0f5"),Object(c["a"])(_,m,p,!1,null,null,null)),$=k.exports,L=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"JobLevel"},[i("div",{staticClass:"header"},[i("el-input",{attrs:{"prefix-icon":"el-icon-plus",placeholder:"添加职称",size:"small"},model:{value:e.jobLevel.name,callback:function(t){e.$set(e.jobLevel,"name",t)},expression:"jobLevel.name"}}),i("el-select",{attrs:{placeholder:"职称等级",size:"small"},model:{value:e.jobLevel.titleLevel,callback:function(t){e.$set(e.jobLevel,"titleLevel",t)},expression:"jobLevel.titleLevel"}},e._l(e.options,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1),i("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.add}},[e._v("添加")])],1),i("div",{staticClass:"body"},[i("el-table",{attrs:{border:!0,data:e.tableData,stripe:"",size:"small"},on:{"selection-change":e.selected}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),i("el-table-column",{attrs:{prop:"name",label:"职称名称",width:"140"}}),i("el-table-column",{attrs:{prop:"titleLevel",label:"职称等级",width:"120"}}),i("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"180",formatter:this.utils.tableDateFormat}}),i("el-table-column",{attrs:{prop:"enabled",label:"是否启用",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.enabled?i("el-tag",{attrs:{type:"success"}},[e._v("已启用")]):i("el-tag",{attrs:{type:"danger"}},[e._v("未启用")])]}}])}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return e.updateOpen(t.$index,t.row)}}},[e._v("编辑 ")]),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return e.deleteJob(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),i("el-button",{staticStyle:{"margin-top":"10px"},attrs:{disabled:e.disable,size:"small",type:"danger"},on:{click:e.deleteMulti}},[e._v("批量删除 ")])],1),i("div",{staticClass:"hidden"},[i("el-dialog",{attrs:{title:"修改职称",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{attrs:{model:e.form}},[i("el-form-item",{attrs:{prop:"name",label:"职称名称","label-width":e.formLabelWidth,rules:{required:!0,message:"name不能为空",trigger:"blur"}}},[i("el-input",{staticStyle:{width:"220px"},attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),i("el-form-item",{attrs:{prop:"titleLevel",label:"职称等级","label-width":e.formLabelWidth,rules:{required:!0,message:"请选择值",trigger:"blur"}}},[i("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.titleLevel,callback:function(t){e.$set(e.form,"titleLevel",t)},expression:"form.titleLevel"}},e._l(e.options,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),i("el-form-item",{attrs:{label:"是否启用","label-width":e.formLabelWidth}},[i("el-radio-group",{model:{value:e.form.enabled,callback:function(t){e.$set(e.form,"enabled",t)},expression:"form.enabled"}},[i("el-radio",{attrs:{label:!0}},[e._v("启用")]),i("el-radio",{attrs:{label:!1}},[e._v("禁用")])],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.updateSubmit}},[e._v("确 定")])],1)],1)],1)])},w=[],j={name:"JobLevelManage",mounted:function(){this.init()},data:function(){return{jobLevel:{name:"",titleLevel:""},jobLevelTemp:{name:"",titleLevel:""},options:["正高级","副高级","中级","初级","员级"],tableData:[],form:{name:"",titleLevel:"",enabled:""},formTemp:{name:"",titleLevel:"",enabled:""},dialogFormVisible:!1,formLabelWidth:"120px",selects:[],disable:!0}},methods:{init:function(){var e=this;this.$axios.execute("get","/sys/basic/jobLevel").then((function(t){t&&(e.tableData=t)}))},selected:function(e){e.length?(this.selects=e,this.disable=!1):this.disable=!0},updateOpen:function(e,t){this.dialogFormVisible=!0,this.form=this.utils.clone(t),this.formTemp=this.utils.clone(t)},updateSubmit:function(){var e=this;this.utils.isNull(this.form)||this.utils.same(this.form,this.formTemp)?this.$message.error("请修改/填写值"):this.$axios.executeArgs("put","/sys/basic/jobLevel",this.form).then((function(t){t&&(e.init(),Object.assign(e.formTemp,e.form),e.dialogFormVisible=!1)}))},add:function(){var e=this;this.utils.isNull(this.jobLevel)||this.utils.same(this.jobLevel,this.jobLevelTemp)?(Object.assign(this.jobLevelTemp,this.jobLevel),this.$message.error("请修改/填写值")):this.$axios.executeArgs("post","/sys/basic/jobLevel",this.jobLevel).then((function(t){t&&(e.init(),e.utils.toNull(e.jobLevel),Object.assign(e.jobLevelTemp,e.jobLevel))}))},deleteJob:function(e,t){var i=this,a=function(){return i.$axios.execute("delete","/sys/basic/jobLevel/"+t.id).then((function(e){e&&i.init()}))};this.utils.deleteConfirm(a)},deleteMulti:function(){var e=this,t=this.selects.map((function(e){return e.id})).join("&ids="),i=function(){return e.$axios.execute("delete","/sys/basic/jobLevel?ids="+t).then((function(t){t&&e.init()}))};this.utils.deleteConfirm(i)}}},N=j,F=(i("f9d3"),Object(c["a"])(N,L,w,!1,null,"c9cfe05e",null)),C=F.exports,D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 奖惩规则 ")])},T=[],z={name:"RewardsRule"},S=z,A=Object(c["a"])(S,D,T,!1,null,"2429bf33",null),M=(A.exports,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"permission"},[i("div",{staticClass:"header"},[i("el-form",{ref:"addFrom",attrs:{model:e.role}},[i("el-form-item",{attrs:{prop:"name",rules:{required:!0,message:"请输入角色英文名",trigger:"blur"}}},[i("el-input",{attrs:{clearable:!0,"auto-complete":"false",placeholder:"角色英文名",size:"small"},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}},[i("template",{slot:"prepend"},[e._v(e._s(e.prepend))])],2)],1),i("el-form-item",{attrs:{prop:"nameZh",rules:{required:!0,message:"请输入角色中文名",trigger:"blur"}}},[i("el-input",{attrs:{clearable:!0,"auto-complete":"false",placeholder:"角色中文名",size:"small"},model:{value:e.role.nameZh,callback:function(t){e.$set(e.role,"nameZh",t)},expression:"role.nameZh"}})],1),i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:e.add}},[e._v("添加角色")])],1)],1),i("div",{staticClass:"body"},[i("el-collapse",{attrs:{accordion:""},on:{change:e.change},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.roles,(function(t,a){return[i("el-collapse-item",{key:""+t.id,attrs:{title:t.nameZh,name:""+t.id}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("可访问的资源")]),i("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{icon:"el-icon-delete",type:"text"},on:{click:e.deleteRole}})],1),i("div",[e.loading&&e.activeName==t.id?i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]}):i("el-tree",{ref:"tree"+a,refInFor:!0,attrs:{"default-checked-keys":t.treeDefaultChecked,"show-checkbox":!0,data:e.treeData,props:e.defaultProps,"node-key":"id"}}),i("div",{staticClass:"buttons"},[i("el-button",{attrs:{size:"small"},on:{click:e.cancelUpdate}},[e._v("取消修改")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.updateSubmit(a)}}},[e._v("确认修改")])],1)],1)])],1)]}))],2)],1)])}),O=[],E=(i("7db0"),{name:"PermissionGroup",data:function(){return{role:{name:"",nameZh:""},prepend:"ROLE_",roles:[],activeName:"",treeData:[],defaultProps:{children:"children",label:"name"},loading:!0}},mounted:function(){this.init()},computed:{allNameEn:function(){return this.prepend+this.role.name}},methods:{init:function(){this.initAllRole(),this.initAllMenu()},initAllRole:function(){var e=this;this.$axios.execute("get","/sys/basic/permission").then((function(t){t&&(e.roles=t)}))},initAllMenu:function(){var e=this;this.$axios.execute("get","/sys/basic/permission/menus").then((function(t){t&&(e.treeData=t)}))},add:function(){var e=this;this.$refs.addFrom.validate((function(t,i){if(t){var a=e.utils.clone(e.role);a.name=e.allNameEn,e.$axios.executeArgs("post","/sys/basic/permission/add",a).then((function(t){t&&(e.initAllRole(),e.utils.toNull(e.role))}))}}))},deleteRole:function(){var e=this,t=function(){return e.$axios.execute("delete","/sys/basic/permission/"+e.activeName).then((function(t){t&&e.initAllRole()}))};this.utils.deleteConfirm(t)},cancelUpdate:function(){var e=this;this.loading=!0,setTimeout((function(){e.loading=!1}),300)},updateSubmit:function(e){var t=this,i=this.$refs["tree"+e][0].getCheckedKeys(!0);this.loading=!0,this.$axios.executeArgs("post","/sys/basic/permission/update/"+this.activeName,i).then((function(e){e&&(t.roles.find((function(e){return e.id==t.activeName})).treeDefaultChecked=!1,t.change(t.activeName))}))},change:function(e){var t=this;if(e){var i=this.roles.find((function(t){return t.id==e}));i&&!i.treeDefaultChecked&&(this.loading=!0,this.$axios.execute("get","/sys/basic/permission/"+e).then((function(e){e&&(i.treeDefaultChecked=e,t.loading=!1)})))}}}}),P=E,V=(i("8a6f"),Object(c["a"])(P,M,O,!1,null,"2b7791e7",null)),R=V.exports,B={name:"SysBasic",components:{DepManage:d,PositionManage:$,JobLevelManage:C,PermissionGroup:R},data:function(){return{activeName:"部门管理",items:[{label:"部门管理",is:"DepManage"},{label:"职位管理",is:"PositionManage"},{label:"职称管理",is:"JobLevelManage"},{label:"权限组",is:"PermissionGroup"}]}}},J=B,q=Object(c["a"])(J,a,l,!1,null,"8022e33c",null);t["default"]=q.exports},4386:function(e,t,i){},"56a8":function(e,t,i){"use strict";i("4386")},"78c6":function(e,t,i){},7972:function(e,t,i){"use strict";i("a66b")},"8a6f":function(e,t,i){"use strict";i("e9a7")},a15b:function(e,t,i){"use strict";var a=i("23e7"),l=i("44ad"),n=i("fc6a"),s=i("a640"),o=[].join,r=l!=Object,c=s("join",",");a({target:"Array",proto:!0,forced:r||!c},{join:function(e){return o.call(n(this),void 0===e?",":e)}})},a66b:function(e,t,i){},b0f5:function(e,t,i){"use strict";i("78c6")},d81d:function(e,t,i){"use strict";var a=i("23e7"),l=i("b727").map,n=i("1dde"),s=i("ae40"),o=n("map"),r=s("map");a({target:"Array",proto:!0,forced:!o||!r},{map:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},e9a7:function(e,t,i){},f9d3:function(e,t,i){"use strict";i("0291")}}]);
//# sourceMappingURL=chunk-ce5f4b90.235903a2.js.map